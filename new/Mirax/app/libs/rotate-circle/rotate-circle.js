/* jquery.rotate-circle v1.0 */
/* Athor Oleksandr Talala */
/* Mail: oleksandrtalala@gmail.com */

!function(e){e.fn.circle=function(i){var t=e.extend({speed:"5000"},i);return this.each(function(){function i(){var e=n.find("li.block.accent").index();o.removeClass("accent"),o.eq(e).addClass("accent")}function a(){var t;n.addClass("disable-hover"),n.stop(!0,!0).animate({rotatedeg:l.deg+=l.step},{duration:400,step:function(i){i>=360?i-=360:i<=-360&&(i+=360),e(this).css("transform","rotate("+i+"deg)"),e(this).css("-webkit-transform","rotate("+i+"deg)")},complete:function(){l.accent=n.find("li.accent").removeClass("accent"),"right"==l.direction&&l.step==f&&(l.accent.prev()&&l.accent.prev().length?(t=l.accent.prev().index(),l.accent.prev().addClass("accent")):(l.accent.siblings(":last-child").addClass("accent"),t=9)),"left"==l.direction&&l.step==v&&(l.accent.next()&&l.accent.next().length?(t=l.accent.next().index(),l.accent.next().addClass("accent")):(l.accent.siblings(":first-child").addClass("accent"),t=0)),n.is(":animated"),n.removeClass("disable-hover"),i()}},"ease")}function s(){n.addClass("disable-hover"),n.stop(!0,!0).animate({rotatedeg:l.deg+=l.step},{duration:400,step:function(i){i>=360?i-=360:i<=-360&&(i+=360),e(this).css("transform","rotate("+i+"deg)"),e(this).css("-webkit-transform","rotate("+i+"deg)")},complete:function(){l.accent=n.find("li.accent"),n.is(":animated"),n.removeClass("disable-hover")}},"ease")}var n=e(this),c=n.find("li").length,d=n.find(" > li .icon"),r="count"+c,v=0,o=n.next().find(".animate"),l={duration:t.speed,deg:0,step:v,accent:n.find("li.accent"),direction:"left"};switch(c){case 10:v=-36;break;case 9:v=-40;break;case 8:v=-45;break;case 7:v=-51.5;break;case 6:v=-60;break;case 5:v=-72;break;case 4:v=-90;break;case 3:v=-120;break;case 2:v=-180;break;case 1:v=-360}n.addClass(r);var f=v-2*v;n.find("> li").first().addClass("accent");n.find("> li").first().find("a").attr("href");o.eq(0).addClass("accent"),e(d).on("click",function(){var t=e(this).parent().index()-n.find("li.accent").index();n.children("li").removeClass("accent"),e(this).parent().addClass("accent"),l.step=-t*f,t*f>=288&&(l.step=-t*f+360),t*f<=-288&&(l.step=-t*f-360),s(),l.step=v,l.direction="left",i()});var p=n.parent().find("div.next"),h=n.parent().find("div.prev");p.on("click",function(){n.is(":animated")||(l.direction="left",l.step=v,a())}),h.on("click",function(){n.is(":animated")||(l.direction="right",l.step=f,a())})})}}(jQuery);